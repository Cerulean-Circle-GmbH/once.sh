#!/usr/bin/env bash
#clear
#export PS4='\e[90m+${LINENO} in ${#BASH_SOURCE[@]}>${FUNCNAME[0]}:${BASH_SOURCE[@]##*/} \e[0m'
#set -x

#echo "starting: $0 <LOG_LEVEL=$1>"

### new.method

share.status() { # # shows th status of the sharing
  # <<EOD
  share.samba.status
}

share.samba.status() { # # shows th status of the sharing
  # <<EOD
  smbstatus
}

share.samba.service() { # <serviceCmd> # shows th status of the sharing
  # <<EOD
  local serviceCmd="$1"
  if [ -n "$1" ]; then
    shift
  else
    error.log "no serviceCmd specified"
    return 1
  fi
  systemctl "$serviceCmd" smbd
}

share.parameter.completion.serviceCmd() {
  # <<EOD
  echo -e "enable \\nstatus \\nrestart \\nstop "
}

share.samba.config.edit() { # # edit samba config
  # <<EOD
  edit /etc/samba/smb.conf
  share.samba.service restart
}

share.samba.restart() { # #
  # <<EOD
  systemctl restart smbd
  systemctl restart avahi-daemon
  systemctl restart netatalk
}

share.samba.install() { # # install all the necessary packeges for managing RAID and Virtual Partitions
  # <<EOD
  install samba.support
}

share.usage() {
  # <<EOD
  local this=${0##*/}
  echo "You started"
  echo "$0

  Usage:
  $this: command   Parameter and Description"
  this.help
  echo "

  Examples
    $this v
    $this init
    ----------
  "
}

share.start() {
  # <<EOD
  #echo "sourcing init"
  source this

  # if [ -z "$1" ]; then
  #   status.discover "$@"
  #   return 0
  # fi

  this.start "$@"
}

share.start "$@"
